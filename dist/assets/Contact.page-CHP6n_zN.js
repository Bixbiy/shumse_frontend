import{r as e,j as t,H as o,e as a,f as r}from"./vendor-react-FSHz6IhY.js";import{U as n,a as s}from"./index-DdTfkRPQ.js";import"./vendor-misc-DyOKPbcj.js";import"./vendor-socket-BtemFTwA.js";import"./vendor-utils-CuK_ifhU.js";import"./vendor-animation-CVt0Hee3.js";const i={name:"",email:"",subject:"",message:""},l={name:"",email:"",qualification:"",accountType:"",message:"",agree:!1},d=e=>"string"==typeof e?e.replace(/[<>'"$;]/g,""):e,c=()=>{const{userAuth:c}=e.useContext(n)||{},u=!!(null==c?void 0:c.access_token),[m,x]=e.useState("contact"),[p,g]=e.useState(i),[h,b]=e.useState(l),[f,j]=e.useState(!1),[y,v]=e.useState(null),[w,N]=e.useState(!1),[k,C]=e.useState(!1),[q,S]=e.useState(null),F=e.useMemo(()=>({title:"Contact & Apply for Editor | Shumse",description:"Contact us for inquiries, collaborations, or apply to become an editor. Join our professional content team.",keywords:"contact, apply editor, blog, news, collaboration, editor application",canonical:window.location.href}),[]);e.useEffect(()=>{if(!u)return g(i),b(l),C(!0),void S(null);N(!0),C(!1);let e="";s.post("/get-profile",{username:c.username}).then(({data:t})=>{const{personal_info:o}=t;return e=o.email||"",g(e=>({...e,name:o.fullname||"",email:o.email||""})),b(e=>({...e,name:o.fullname||"",email:o.email||""})),s.get(`/editor-application/status?email=${encodeURIComponent(e)}`)}).then(({data:e})=>{S(e)}).catch(()=>{S(null)}).finally(()=>{N(!1),C(!0)})},[u,null==c?void 0:c.username]);const T=(e,t)=>{const{name:o,value:a,type:r,checked:n}=e.target;"contact"===t?g(e=>({...e,[o]:"checkbox"===r?n:d(a)})):b(e=>({...e,[o]:"checkbox"===r?n:d(a)}))};return t.jsxs(t.Fragment,{children:[t.jsxs(o,{children:[t.jsx("title",{children:F.title}),t.jsx("meta",{name:"description",content:F.description}),t.jsx("meta",{name:"keywords",content:F.keywords}),t.jsx("link",{rel:"canonical",href:F.canonical}),t.jsx("meta",{property:"og:title",content:F.title}),t.jsx("meta",{property:"og:description",content:F.description}),t.jsx("meta",{property:"og:type",content:"website"})]}),t.jsx(a,{position:"top-center"}),t.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-indigo-50 py-12 px-4 sm:px-6 lg:px-8",children:t.jsxs("div",{className:"max-w-4xl mx-auto",children:[t.jsxs("div",{className:"text-center mb-12",children:[t.jsx("h1",{className:"text-5xl font-bold text-gray-900 sm:text-6xl bg-clip-text text-transparent bg-gradient-to-r from-blue-600 to-indigo-600",children:"Contact & Editor Application"}),t.jsx("p",{className:"mt-6 max-w-2xl mx-auto text-xl text-gray-600",children:"Reach out for support, collaborations, or apply to join our editorial team."})]}),t.jsxs("div",{className:"flex justify-center mb-8",children:[t.jsx("button",{className:"px-6 py-3 rounded-t-lg font-semibold transition-all duration-300 "+("contact"===m?"bg-white shadow text-blue-700":"bg-gray-100 text-gray-500 hover:bg-white"),onClick:()=>{x("contact"),v(null)},children:"Contact Us"}),t.jsx("button",{className:"px-6 py-3 rounded-t-lg font-semibold transition-all duration-300 ml-2 "+("editor"===m?"bg-white shadow text-indigo-700":"bg-gray-100 text-gray-500 hover:bg-white"),onClick:()=>{x("editor"),v(null)},children:"Apply for Editor"})]}),"editor"===m&&u&&q&&q.status&&t.jsx("div",{className:"mb-8",children:t.jsxs("div",{className:"p-4 bg-gradient-to-r  from-blue-600 to-pink-500 border-l-4 border-black rounded-lg mb-4",children:[t.jsx("div",{className:"font-semibold text-white opacity-90 mb-1",children:"You have an already active request."}),t.jsxs("div",{className:" text-white opacity-90 text-sm",children:["Status: ",t.jsx("span",{className:"capitalize",children:q.status})]}),t.jsxs("div",{className:"text-white opacity-90 text-sm",children:["Last request date: ",new Date(q.requestDate).toLocaleString()]})]})}),t.jsxs("div",{className:"bg-white rounded-2xl shadow-xl overflow-hidden transition-all duration-300 hover:shadow-2xl p-8 sm:p-10",children:["success"===y&&t.jsxs("div",{className:"mb-8 p-4 bg-green-100 border-l-4 border-green-500 text-green-700 rounded flex items-center",children:[t.jsx("svg",{className:"h-5 w-5 text-green-500 mr-3",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}),t.jsx("p",{children:"Thank you! We'll get back to you soon."})]}),"error"===y&&t.jsxs("div",{className:"mb-8 p-4 bg-red-100 border-l-4 border-red-500 text-red-700 rounded flex items-center",children:[t.jsx("svg",{className:"h-5 w-5 text-red-500 mr-3",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),t.jsx("p",{children:"There was an error submitting your message. Please try again."})]}),"string"==typeof y&&"success"!==y&&"error"!==y&&t.jsxs("div",{className:"mb-8 p-4 bg-yellow-100 border-l-4 border-yellow-500 text-yellow-700 rounded flex items-center",children:[t.jsx("svg",{className:"h-5 w-5 text-yellow-500 mr-3",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),t.jsx("p",{children:y})]}),t.jsxs("form",{onSubmit:async e=>{var t,o,a;if(e.preventDefault(),!u)return r.error("Please sign in to contact or apply.",{duration:3e3}),void setTimeout(()=>window.location.href="/signin",1200);j(!0),v(null);let n="/contact",c=p;if("editor"===m&&(n="/apply-editor",c=h,!h.agree))return v("Please agree to the terms and conditions."),void j(!1);Object.keys(c).forEach(e=>{"string"==typeof c[e]&&(c[e]=d(c[e]))});try{if(await s.post(n,c,{headers:{"Content-Type":"application/json"}}),v("success"),g(i),b(l),"editor"===m){N(!0);const{data:e}=await s.get(`/editor-application/status?email=${encodeURIComponent(c.email)}`);S(e),N(!1)}}catch(x){v((null==(o=null==(t=null==x?void 0:x.response)?void 0:t.data)?void 0:o.error)?x.response.data.error:"error"),429===(null==(a=null==x?void 0:x.response)?void 0:a.status)&&x.response.data&&S({status:x.response.data.status,requestDate:x.response.data.requestDate})}finally{j(!1)}},className:"space-y-6",autoComplete:"off",children:[t.jsxs("div",{children:[t.jsxs("label",{htmlFor:"name",className:"block capitalize text-sm font-medium text-gray-700 mb-2",children:["Full Name ",t.jsx("span",{className:"text-red-500",children:"*"})]}),t.jsx("input",{id:"name",name:"name",type:"text",required:!0,value:"contact"===m?p.name:h.name,onChange:e=>T(e,m),className:"w-full px-4 py-3 rounded-lg border border-gray-300 focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 transition duration-300",placeholder:"John Doe",disabled:u})]}),t.jsxs("div",{children:[t.jsxs("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 mb-2",children:["Email ",t.jsx("span",{className:"text-red-500",children:"*"})]}),t.jsx("input",{id:"email",name:"email",type:"email",required:!0,value:"contact"===m?p.email:h.email,onChange:e=>T(e,m),className:"w-full px-4 py-3 rounded-lg border border-gray-300 focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 transition duration-300",placeholder:"your@email.com",disabled:u})]}),"contact"===m&&t.jsxs(t.Fragment,{children:[t.jsxs("div",{children:[t.jsxs("label",{htmlFor:"subject",className:"block text-sm font-medium text-gray-700 mb-2",children:["Subject ",t.jsx("span",{className:"text-red-500",children:"*"})]}),t.jsxs("select",{id:"subject",name:"subject",required:!0,value:p.subject,onChange:e=>T(e,"contact"),className:"w-full px-4 py-3 rounded-lg border border-gray-300 focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 transition duration-300 appearance-none",children:[t.jsx("option",{value:"",children:"Select a subject"}),t.jsx("option",{value:"General Inquiry",children:"General Inquiry"}),t.jsx("option",{value:"Advertising",children:"Advertising"}),t.jsx("option",{value:"Content Collaboration",children:"Content Collaboration"}),t.jsx("option",{value:"Technical Support",children:"Technical Support"}),t.jsx("option",{value:"Feedback",children:"Feedback"}),t.jsx("option",{value:"Other",children:"Other"})]})]}),t.jsxs("div",{children:[t.jsxs("label",{htmlFor:"message",className:"block text-sm font-medium text-gray-700 mb-2",children:["Message ",t.jsx("span",{className:"text-red-500",children:"*"})]}),t.jsx("textarea",{id:"message",name:"message",rows:6,required:!0,value:p.message,onChange:e=>T(e,"contact"),className:"w-full px-4 py-3 rounded-lg border border-gray-300 focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 transition duration-300",placeholder:"Your message here..."})]})]}),"editor"===m&&t.jsxs(t.Fragment,{children:[t.jsxs("div",{children:[t.jsxs("label",{htmlFor:"qualification",className:"block text-sm font-medium text-gray-700 mb-2",children:["Qualification ",t.jsx("span",{className:"text-red-500",children:"*"})]}),t.jsx("input",{id:"qualification",name:"qualification",type:"text",required:!0,value:h.qualification,onChange:e=>T(e,"editor"),className:"w-full px-4 py-3 rounded-lg border border-gray-300 focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 transition duration-300",placeholder:"Your qualification (e.g., BA in Journalism)"})]}),t.jsxs("div",{children:[t.jsxs("label",{htmlFor:"accountType",className:"block text-sm font-medium text-gray-700 mb-2",children:["Account Type ",t.jsx("span",{className:"text-red-500",children:"*"})]}),t.jsxs("select",{id:"accountType",name:"accountType",required:!0,value:h.accountType,onChange:e=>T(e,"editor"),className:"w-full px-4 py-3 rounded-lg border border-gray-300 focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 transition duration-300 appearance-none",children:[t.jsx("option",{value:"",children:"Select account type"}),t.jsx("option",{value:"Personal",children:"Personal"}),t.jsx("option",{value:"Professional",children:"Professional"}),t.jsx("option",{value:"Organization",children:"Organization"})]})]}),t.jsxs("div",{children:[t.jsxs("label",{htmlFor:"message",className:"block text-sm font-medium text-gray-700 mb-2",children:["Why do you want to become an editor? ",t.jsx("span",{className:"text-red-500",children:"*"})]}),t.jsx("textarea",{id:"message",name:"message",rows:6,required:!0,value:h.message,onChange:e=>T(e,"editor"),className:"w-full px-4 py-3 rounded-lg border border-gray-300 focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 transition duration-300",placeholder:"Tell us about your motivation and experience..."})]}),t.jsxs("div",{className:"flex items-center",children:[t.jsx("input",{id:"agree",name:"agree",type:"checkbox",checked:h.agree,onChange:e=>T(e,"editor"),className:"h-4 w-4 text-indigo-600 border-gray-300 rounded focus:ring-indigo-500",required:!0}),t.jsxs("label",{htmlFor:"agree",className:"ml-2 block text-sm text-gray-700",children:["I agree to the ",t.jsx("a",{href:"/terms",className:"text-indigo-600 underline hover:text-indigo-800",children:"terms and conditions"})]})]})]}),t.jsx("div",{className:"flex justify-end",children:t.jsx("button",{type:"submit",disabled:f||w||q&&q.status&&"editor"===m,className:"inline-flex items-center px-8 py-4 bg-gradient-to-r from-indigo-600 to-blue-600 hover:from-indigo-700 hover:to-blue-700 text-white font-semibold rounded-lg shadow-md transition duration-300 transform hover:scale-105 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 disabled:opacity-70 disabled:cursor-not-allowed disabled:transform-none",children:f?"Sending...":"contact"===m?"Send Message":"Apply Now"})})]})]})]})})]})};export{c as default};
