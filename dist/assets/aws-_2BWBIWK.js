import{a6 as e}from"./vendor-misc-DLsXWmW-.js";import{a as r}from"./index-DsO7NqaW.js";const o=async o=>{var a;try{if(!o)throw new Error("No image file provided.");if(!["image/jpeg","image/png","image/webp","image/jpg"].includes(o.type))throw new Error("Invalid file type. Please upload a JPEG, PNG, or WebP image.");const a={maxSizeMB:1,maxWidthOrHeight:1920,useWebWorker:!0},s=await e(o,a),t=new FormData;t.append("image",s,o.name);const{data:n}=await r.post("/upload",t,{headers:{"Content-Type":"multipart/form-data"},timeout:3e4});return n.url}catch(s){throw s.response?404===s.response.status?new Error("Upload endpoint not found. Please check server configuration."):413===s.response.status?new Error("File too large. Please choose a smaller image."):new Error((null==(a=s.response.data)?void 0:a.error)||`Upload failed: ${s.response.status}`):s.request?new Error("No response from server. Check your connection."):new Error(s.message||"Upload failed")}};export{o as U};
