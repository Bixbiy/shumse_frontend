const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/profile.page-Dfxwq0B7.js","assets/vendor-react-CvqM9zc9.js","assets/vendor-misc-BFmcx_8c.js","assets/vendor-react-DuCMTCwb.css","assets/vendor-animation-BFb6eZlp.js","assets/vendor-socket-DIFBDcho.js","assets/vendor-utils-DnwaQ9mb.js","assets/blog.page-D3KyBvT0.js","assets/search.page-knRHPzId.js","assets/StoryCard-DrMxPWHQ.js","assets/Contact.page-CFyepu92.js","assets/editor.pages-DgMhpEEm.js","assets/aws-BlzNu9QY.js","assets/StoryEditor-DEkBXjBU.js","assets/vendor-editor-DxzJNwHO.js","assets/change-password.page-Cm5i4GGF.js","assets/Input-CmJAJTUu.js","assets/edit-profile.page-ibvl70Fr.js","assets/notifications.page-CJ96CBiN.js","assets/manage-blogs.page-CLbiwzMS.js","assets/StoriesList-B0hPz91k.js","assets/StoryViewer-Cs10trOO.js","assets/ReaditHomePage-Dd7oOvfE.js","assets/ReaditPostCard-CQRuCF5c.js","assets/VoteButtons-JEdKh0GC.js","assets/ReaditCommunityPage-Cn_KgLU1.js","assets/ReaditPostPage-B0qOAfHg.js","assets/ReaditSubmitPage-ClT8mbOf.js","assets/ReaditCreateCommunityPage-CqjGJm9m.js","assets/ReaditCreatePostPage-D1kk29bD.js"])))=>i.map(i=>d[i]);
var e=Object.defineProperty,t=(t,r,s)=>((t,r,s)=>r in t?e(t,r,{enumerable:!0,configurable:!0,writable:!0,value:s}):t[r]=s)(t,"symbol"!=typeof r?r+"":r,s);import{r,j as s,z as a,L as n,c as i,u as l,N as o,O as d,b as c,F as m,n as u,H as x,d as h,R as g,e as p,f,B as y}from"./vendor-react-CvqM9zc9.js";import{l as b}from"./vendor-socket-DIFBDcho.js";import{L as j,P as w,M as v,N,O as k,Q as A,R as S}from"./vendor-misc-BFmcx_8c.js";import{a as E,l as _}from"./vendor-utils-DnwaQ9mb.js";import{A as C,m as P,L as T,d as I}from"./vendor-animation-BFb6eZlp.js";!function(){const e=document.createElement("link").relList;if(!(e&&e.supports&&e.supports("modulepreload"))){for(const e of document.querySelectorAll('link[rel="modulepreload"]'))t(e);new MutationObserver(e=>{for(const r of e)if("childList"===r.type)for(const e of r.addedNodes)"LINK"===e.tagName&&"modulepreload"===e.rel&&t(e)}).observe(document,{childList:!0,subtree:!0})}function t(e){if(e.ep)return;e.ep=!0;const t=function(e){const t={};return e.integrity&&(t.integrity=e.integrity),e.referrerPolicy&&(t.referrerPolicy=e.referrerPolicy),"use-credentials"===e.crossOrigin?t.credentials="include":"anonymous"===e.crossOrigin?t.credentials="omit":t.credentials="same-origin",t}(e);fetch(e.href,t)}}();const L={},R=function(e,t,r){let s=Promise.resolve();if(t&&t.length>0){let e=function(e){return Promise.all(e.map(e=>Promise.resolve(e).then(e=>({status:"fulfilled",value:e}),e=>({status:"rejected",reason:e}))))};document.getElementsByTagName("link");const r=document.querySelector("meta[property=csp-nonce]"),a=(null==r?void 0:r.nonce)||(null==r?void 0:r.getAttribute("nonce"));s=e(t.map(e=>{if((e=function(e){return"/"+e}(e))in L)return;L[e]=!0;const t=e.endsWith(".css"),r=t?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${e}"]${r}`))return;const s=document.createElement("link");return s.rel=t?"stylesheet":"modulepreload",t||(s.as="script"),s.crossOrigin="",s.href=e,a&&s.setAttribute("nonce",a),document.head.appendChild(s),t?new Promise((t,r)=>{s.addEventListener("load",t),s.addEventListener("error",()=>r(new Error(`Unable to preload CSS for ${e}`)))}):void 0}))}function a(e){const t=new Event("vite:preloadError",{cancelable:!0});if(t.payload=e,window.dispatchEvent(t),!t.defaultPrevented)throw e}return s.then(t=>{for(const e of t||[])"rejected"===e.status&&a(e.reason);return e().catch(a)})},O=r.createContext(),z=({children:e})=>{const[t,a]=r.useState("light"),[n,i]=r.useState(!1),[l,o]=r.useState(!1);r.useEffect(()=>{const e=localStorage.getItem("theme"),t=window.matchMedia("(prefers-color-scheme: dark)").matches;i(t);a(e||(t?"dark":"light")),o(!0);const r=window.matchMedia("(prefers-color-scheme: dark)"),s=e=>{i(e.matches),localStorage.getItem("theme")||a(e.matches?"dark":"light")};return r.addEventListener("change",s),()=>r.removeEventListener("change",s)},[]),r.useEffect(()=>{if(l){const e=document.documentElement;e.classList.remove("light","dark"),e.classList.add(t);const r=document.querySelector('meta[name="theme-color"]');if(r)r.setAttribute("content","dark"===t?"#0f172a":"#ffffff");else{const e=document.createElement("meta");e.name="theme-color",e.content="dark"===t?"#0f172a":"#ffffff",document.head.appendChild(e)}localStorage.setItem("theme",t),e.style.colorScheme=t}},[t,l]);const d=r.useMemo(()=>({theme:t,systemPrefersDark:n,toggleTheme:()=>a(e=>"dark"===e?"light":"dark"),setTheme:a,isDark:"dark"===t,isLight:"light"===t}),[t,n]);return s.jsx(O.Provider,{value:d,children:e})},D=r.createContext(),F=()=>r.useContext(D),U=({children:e})=>{const t=r.useRef(null),{userAuth:n}=r.useContext(tt),[i,l]=r.useState(!1);r.useEffect(()=>{if(!t.current){const e=b("https://spread-server.onrender.com",{withCredentials:!0,reconnection:!0,reconnectionDelay:1e3,reconnectionAttempts:5,autoConnect:!0});e.on("connect",()=>{l(!0)}),e.on("connect_error",e=>{l(!1)}),e.on("disconnect",()=>{l(!1)}),e.on("new_notification",()=>{a("You have a new notification!",{icon:"ðŸ””"})}),t.current=e}return()=>{t.current&&(t.current.disconnect(),t.current=null)}},[]),r.useEffect(()=>{const e=t.current;e&&i&&(null==n?void 0:n.id)&&e.emit("joinNotificationRoom",{userId:n.id})},[null==n?void 0:n.id,i]);const o=r.useMemo(()=>({socket:t.current,isConnected:i}),[i]);return s.jsx(D.Provider,{value:o,children:e})},$=(e,t)=>{try{const r="object"==typeof t?JSON.stringify(t):t;sessionStorage.setItem(e,r)}catch(r){}},H=["user","theme","recent_searches"],M=["access_token","_id","blog_id","comment_id","user_id","post_id"],B=e=>{const t={};for(const[r,s]of Object.entries(e))M.includes(r)?t[r]=s:t[r]="string"==typeof s?j.sanitize(s):"object"==typeof s&&null!==s?B(s):s;return t};let W=null;const V=e=>{W=e},J={"/latest-posts":6e4,"/trending-posts":12e4,"/get-post":3e5,"/get-profile":18e4,"/get-post-comments":12e4,"/similar/posts":18e4,"/category-find":6e4,default:6e4},q=new Map,K=async(e,t)=>{const r=(e=>{const{method:t,url:r,params:s,data:a}=e;return`${t}:${r}:${JSON.stringify(s)}:${JSON.stringify(a)}`})(e);if(q.has(r))return q.get(r);const s=t().finally(()=>{q.delete(r)});return q.set(r,s),s},G=new Map,Q=(e,t)=>!(t>=3)&&(!(e.response&&e.response.status>=400&&e.response.status<500)&&(!e.response||e.response.status>=500)),X=e=>new Promise(t=>setTimeout(t,e)),Y=async(e,t)=>{let r;for(let a=0;a<3;a++)try{return await e()}catch(s){if(r=s,!Q(s,a))throw s;const e=1e3*Math.pow(2,a);await X(e)}throw r},Z=E.create({baseURL:"/api/v1"});Z.interceptors.request.use(e=>(W&&(e.headers.Authorization=`Bearer ${W}`),e),e=>Promise.reject(e));const ee=Z.request.bind(Z);Z.request=async function(e){const t=(e.method||"get").toUpperCase(),r=e.url;if("GET"===t){const t=(e=>{const{method:t,url:r,params:s,data:a}=e;return`${t}:${r}:${JSON.stringify(s)}:${JSON.stringify(a)}`})(e),s=(e=>{const t=G.get(e);if(!t)return null;const{data:r,timestamp:s,ttl:a}=t;return Date.now()-s<a?r:(G.delete(e),null)})(t);return s?Promise.resolve(s):K(e,async()=>{const s=await Y(()=>ee(e));return((e,t,r)=>{const s=J[r]||J.default;G.set(e,{data:t,timestamp:Date.now(),ttl:s})})(t,s,r),s})}return["POST","PUT","DELETE","PATCH"].includes(t)?((e=>{const t=[];for(const[r]of G)r.includes(e)&&t.push(r);t.forEach(e=>{G.delete(e)})})(r),Y(()=>ee(e))):ee(e)};const te=async e=>{const{data:t}=await Z.post("/get-post-comments",{blog_id:e,skip:0});return t},re={initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20}},se={initial:{opacity:0,x:-30},animate:{opacity:1,x:0},exit:{opacity:0,x:30}},ae={initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.95}},ne=({children:e,keyValue:t,transition:r={duration:.5,ease:"easeInOut"},variant:a="fade",className:n=""})=>{const i={fade:re,slide:se,scale:ae};return s.jsx(C,{mode:"wait",children:s.jsx(P.div,{initial:"initial",animate:"animate",exit:"exit",variants:i[a],transition:r,className:n,children:e},t)})},ie=()=>{const{userAuth:{username:e,role:t},setUserAuth:a}=r.useContext(tt);return s.jsxs(P.div,{className:"bg-white dark:bg-dark-grey absolute right-0 border border-gray-200 dark:border-grey w-60 overflow-hidden rounded-lg shadow-xl",initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0,y:10},transition:{duration:.2},children:["editor"===t&&s.jsxs(n,{to:"/editor",className:"flex gap-2 link md:hidden pl-8 py-4",children:[s.jsx("i",{className:"fi fi-rr-file-edit"}),s.jsx("p",{children:"Write"})]}),s.jsxs(n,{to:`/user/${e}`,className:"flex gap-2 link pl-8 py-4",children:[s.jsx("i",{className:"fi fi-rr-user"}),s.jsx("p",{children:"Profile"})]}),s.jsxs(n,{to:"/readit",className:"flex gap-2 link pl-8 py-4 md:hidden",children:[s.jsx("i",{className:"fi fi-rr-users-alt"}),s.jsx("p",{children:"Community"})]}),s.jsxs(n,{to:"/dashboard/blogs",className:"flex gap-2 link pl-8 py-4",children:[s.jsx("i",{className:"fi fi-rr-layout-fluid"}),s.jsx("p",{children:"Dashboard"})]}),s.jsxs(n,{to:"/settings/edit-profile",className:"flex gap-2 link pl-8 py-4",children:[s.jsx("i",{className:"fi fi-rr-settings"}),s.jsx("p",{children:"Settings"})]}),s.jsx("span",{className:"absolute border-t border-gray-200 dark:border-grey w-full"}),s.jsxs("button",{className:"text-left p-4 hover:bg-gray-50 dark:hover:bg-grey/50 w-full pl-8 py-4 group focus:outline-none focus:bg-gray-50 dark:focus:bg-grey/50",onClick:()=>{var e;e="user",sessionStorage.removeItem(e),a({access_token:null})},children:[s.jsx("span",{className:"block font-bold text-red-500 text-lg group-hover:text-red-600",children:"Sign Out"}),s.jsxs("span",{className:"block text-dark-grey dark:text-gray-400 text-sm",children:["@",e]})]})]})},le=()=>{const[e,t]=r.useState("light"),[a,n]=r.useState(!1);r.useEffect(()=>{const e=localStorage.getItem("theme"),r=window.matchMedia("(prefers-color-scheme: dark)").matches,s=e||(r?"dark":"light");t(s),document.documentElement.classList.toggle("dark","dark"===s),n(!0);const a=window.matchMedia("(prefers-color-scheme: dark)"),i=e=>{if(!localStorage.getItem("theme")){const r=e.matches?"dark":"light";t(r),document.documentElement.classList.toggle("dark","dark"===r)}};return a.addEventListener("change",i),()=>a.removeEventListener("change",i)},[]);return a?s.jsx(P.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>{const r="light"===e?"dark":"light";t(r),localStorage.setItem("theme",r),document.documentElement.style.setProperty("color-scheme",r),document.documentElement.classList.toggle("dark","dark"===r)},className:"relative w-10 h-10 rounded-full flex items-center justify-center bg-neutral-100 dark:bg-neutral-800 hover:bg-neutral-200 dark:hover:bg-neutral-700 transition-colors overflow-hidden","aria-label":`Switch to ${"light"===e?"dark":"light"} mode`,children:s.jsx(C,{mode:"wait",children:"light"===e?s.jsx(P.i,{initial:{y:-20,opacity:0,rotate:-90},animate:{y:0,opacity:1,rotate:0},exit:{y:20,opacity:0,rotate:90},transition:{duration:.2},className:"fi fi-rr-moon text-xl text-neutral-700"},"moon"):s.jsx(P.i,{initial:{y:-20,opacity:0,rotate:-90},animate:{y:0,opacity:1,rotate:0},exit:{y:20,opacity:0,rotate:90},transition:{duration:.2},className:"fi fi-rr-sun text-xl text-yellow-400"},"sun")})}):s.jsx("div",{className:"w-10 h-10 rounded-full bg-gray-100 dark:bg-neutral-800 animate-pulse"})},oe=({src:e,alt:t,className:a="",width:n,height:i,placeholder:l='data:image/svg+xml,%3Csvg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 400 300"%3E%3Crect fill="%23f0f0f0" width="400" height="300"/%3E%3C/svg%3E',fallback:o="/default-image.png",loading:d="lazy",objectFit:c="cover",onLoad:m,onError:u,...x})=>{const[h,g]=r.useState(l),[p,f]=r.useState(!1),[y,b]=r.useState(!1),j=r.useRef(null);r.useEffect(()=>{if("lazy"!==d)return void g(e);const t=new IntersectionObserver(r=>{r.forEach(r=>{r.isIntersecting&&(g(e),t.disconnect())})},{rootMargin:"50px",threshold:.01});return j.current&&t.observe(j.current),()=>{t&&t.disconnect()}},[e,d]);const w=(v=e)&&"string"==typeof v?(v.endsWith(".webp")||v.endsWith(".svg"),null):null;var v;return s.jsxs("picture",{ref:j,children:[w&&s.jsx("source",{srcSet:w,type:"image/webp"}),s.jsx("img",{src:h,alt:t,width:n,height:i,className:`${a} ${p?"opacity-100":"opacity-0"} transition-opacity duration-300`,style:{objectFit:c,backgroundColor:y?"#f3f4f6":"transparent"},onLoad:e=>{f(!0),m&&m(e)},onError:e=>{b(!0),g(o),u&&u(e)},loading:d,decoding:"async",...x}),!p&&h!==l&&s.jsx("div",{className:"absolute inset-0 bg-gray-200 dark:bg-gray-700 animate-pulse","aria-hidden":"true"})]})};oe.propTypes={src:w.string.isRequired,alt:w.string.isRequired,className:w.string,width:w.oneOfType([w.number,w.string]),height:w.oneOfType([w.number,w.string]),placeholder:w.string,fallback:w.string,loading:w.oneOf(["lazy","eager"]),objectFit:w.oneOf(["contain","cover","fill","none","scale-down"]),onLoad:w.func,onError:w.func};const de=i.memo(()=>{const e=l(),{userAuth:t,setUserAuth:a}=r.useContext(tt),{access_token:i,profile_img:c,new_notification_available:m}=t||{},[u,x]=r.useState(!1),[h,g]=r.useState(!1),[p,f]=r.useState(""),[y,b]=r.useState([]),[j,w]=r.useState(!1),[N,k]=r.useState(!1),[A,S]=r.useState(-1),E=r.useRef(null),_=r.useRef(null),[L]=v(p,300);r.useEffect(()=>{(()=>{const e=document.createElement("link");e.rel="preload",e.as="image",e.href="/logo.png",document.head.appendChild(e)})()},[]),r.useEffect(()=>{let e=!1;const t=()=>{e||(window.requestAnimationFrame(()=>{const t=window.scrollY>10;k(e=>e!==t?t:e),e=!1}),e=!0)};return window.addEventListener("scroll",t,{passive:!0}),()=>window.removeEventListener("scroll",t)},[]),r.useEffect(()=>{if(!L||L.length<2)return void b([]);(async()=>{w(!0);try{const{data:e}=await Z.get("/s-suggestion",{params:{q:L}}),t=e.suggestions.map((e,t)=>({...e,id:e._id||`${e.type}-${e.title}-${t}`})).slice(0,5);b(t)}catch(e){}finally{w(!1)}})()},[L]);const R=e=>{f(e.target.value),S(-1)},O=t=>{"Enter"===t.key&&p.trim().length>0&&(t.preventDefault(),x(!1),A>=0&&y[A]?z(y[A]):(e(`/search/${encodeURIComponent(p)}`),b([])))},z=t=>{let r="",s={};switch(t.type){case"user":r=`/user/${t.title}`;break;case"tag":r=`/search/tag/${encodeURIComponent(t.tag)}`,s={searchedTag:t.tag};break;default:r=`/search/${encodeURIComponent(t.title||t.query)}`}e(r,{state:s}),f(t.title||t.query),b([]),x(!1)};return r.useEffect(()=>{if(!i)return;(async()=>{try{const{data:e}=await Z.get("/new-notification");a(t=>({...t,...e}))}catch(e){}})()},[i,a]),s.jsxs(s.Fragment,{children:[s.jsx(T,{features:I,children:s.jsxs("div",{className:"z-10 sticky top-0 w-full transition-all duration-300 "+(N?"bg-white/80 dark:bg-dark-grey/80 backdrop-blur-md border-b border-gray-100 dark:border-grey":"bg-white dark:bg-dark-grey"),children:[s.jsxs(P.nav,{initial:{y:-10,opacity:0},animate:{y:0,opacity:1},transition:{duration:.3},className:"navbar w-full flex items-center gap-12 px-[5vw] py-5 h-[80px]",children:[s.jsx(n,{to:"/",className:"w-12 block flex-none",children:s.jsx("h1",{className:" md:flex gap-2 items-center px-4 py-2 bg-gradient-to-r from-primary-600 to-primary-500 hover:from-primary-700 hover:to-primary-600 text-white rounded-full text-sm font-large shadow-sm hover:shadow-md transition-all transform hover:-translate-y-0.5",children:"Read"})}),s.jsxs("div",{className:"absolute bg-white dark:bg-dark-grey w-full left-0 top-full mt-0.5 border-b border-grey py-4 px-[5vw] md:border-0 md:block md:relative md:inset-0 md:p-0 md:w-auto md:show pointer-events-auto transition-all duration-300",children:[s.jsxs("div",{className:"relative",children:[s.jsx("input",{type:"search",placeholder:"Search...",ref:E,className:"w-full md:w-auto bg-gray-100 dark:bg-grey p-4 pl-6 pr-[12%] md:pr-6 rounded-full placeholder:text-dark-grey/50 md:pl-12 outline-none focus:bg-transparent transition-all border border-transparent focus:border-gray-200 dark:focus:border-grey",value:p,onChange:R,onKeyDown:O}),s.jsx("button",{className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-500 hover:text-primary transition-colors","aria-label":"Submit search",onClick:()=>O({key:"Enter",preventDefault:()=>{}}),children:s.jsx("i",{className:"fi fi-rr-search text-xl"})})]}),s.jsx(C,{children:y.length>0&&s.jsx(P.ul,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},className:"absolute left-0 right-0 mt-2 bg-white dark:bg-dark-grey shadow-xl rounded-xl overflow-hidden z-30 border border-gray-100 dark:border-grey md:w-[150%]",role:"listbox",children:y.map((e,t)=>s.jsx("li",{className:"px-4 py-3 cursor-pointer hover:bg-gray-50 dark:hover:bg-grey focus:bg-gray-50 dark:focus:bg-grey outline-none",onClick:()=>z(e),role:"option",tabIndex:0,onKeyDown:t=>{"Enter"===t.key&&z(e)},children:s.jsx("p",{className:"font-medium text-sm text-gray-900 dark:text-white",children:e.title})},e.id))})})]}),s.jsxs("div",{className:"flex items-center gap-3 md:gap-4 ml-auto",children:[s.jsx("button",{className:"md:hidden w-10 h-10 rounded-full flex items-center justify-center bg-gray-100 dark:bg-grey hover:bg-gray-200 dark:hover:bg-dark-grey transition-colors",onClick:()=>x(!u),"aria-label":"Toggle search","aria-expanded":u,children:s.jsx("i",{className:"fi fi-rs-search text-xl"})}),s.jsx(le,{}),s.jsxs(o,{to:"/readit",className:({isActive:e})=>"flex items-center justify-center w-10 h-10 md:w-auto md:px-3 md:py-2 rounded-full hover:bg-gray-100 dark:hover:bg-grey text-dark-grey dark:text-light-grey transition-colors "+(e?"text-primary dark:text-primary bg-primary/10":""),"aria-label":"Community",children:[s.jsx("i",{className:"fi fi-rr-users-alt text-xl"}),s.jsx("span",{className:"text-sm font-medium hidden md:inline ml-2",children:"Community"})]}),s.jsxs(n,{to:"/editor",className:"hidden md:flex gap-2 items-center px-4 py-2 bg-gradient-to-r from-primary-600 to-primary-500 hover:from-primary-700 hover:to-primary-600 text-white rounded-full text-sm font-medium shadow-sm hover:shadow-md transition-all transform hover:-translate-y-0.5","aria-label":"Create new post",children:[s.jsx("i",{className:"fi fi-rr-file-edit"}),s.jsx("span",{className:"hidden lg:inline",children:"Create"})]}),i?s.jsxs(s.Fragment,{children:[s.jsxs(o,{to:"/dashboard/notifications",className:({isActive:e})=>"relative w-10 h-10 flex items-center justify-center rounded-full hover:bg-gray-100 dark:hover:bg-grey transition-colors "+(e?"text-primary bg-primary/10":""),"aria-label":"Notifications",children:[s.jsx("i",{className:"fi fi-rr-bell text-xl"}),m&&s.jsx("span",{className:"bg-error rounded-full w-3 h-3 absolute top-1 right-1 border-2 border-white dark:border-dark-grey"})]}),s.jsxs("div",{className:"relative",children:[s.jsx("button",{onClick:()=>g(e=>!e),className:"w-10 h-10 rounded-full overflow-hidden border-2 border-transparent hover:border-primary transition-colors focus:outline-none focus:ring-2 focus:ring-primary","aria-label":"User menu","aria-expanded":h,children:s.jsx(oe,{src:c,alt:"Profile",className:"w-full h-full object-cover"})}),s.jsx(C,{children:h&&s.jsx(P.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0,y:10},className:"absolute right-0 mt-2",children:s.jsx(ie,{})})})]})]}):s.jsxs(s.Fragment,{children:[s.jsx(n,{to:"/signin",className:"btn-dark text-sm hidden md:block hover:bg-black/80 transition-colors",children:"Sign In"}),s.jsx(n,{to:"/signup",className:"btn-light text-sm hidden md:block hover:bg-gray-200 transition-colors",children:"Sign Up"})]})]})]}),s.jsx(C,{children:u&&s.jsx(P.div,{initial:{height:0,opacity:0},animate:{height:"auto",opacity:1},exit:{height:0,opacity:0},className:"bg-white dark:bg-dark-grey-2 px-4 py-3 shadow-lg md:hidden border-b border-gray-100 dark:border-grey",children:s.jsxs("div",{className:"relative",children:[s.jsx("input",{type:"search",placeholder:"Search...",ref:_,className:"w-full bg-gray-100 dark:bg-grey dark:border  border border-gray-200 dark:border-gray-200 dark:rounded-full rounded-full py-3 px-6 pr-12 text-sm focus:outline-none focus:ring-2 focus:ring-primary",value:p,onChange:R,onKeyDown:O,"aria-label":"Mobile search"}),s.jsx("i",{className:"fi fi-rr-search absolute right-4 top-1/2 -translate-y-1/2 text-xl text-gray-500"})]})})})]})}),s.jsx("div",{id:"main-content",className:"  focus:outline-none",tabIndex:"-1",children:s.jsx(d,{})})]})}),ce=["Technology","Health","Business","Travel","Education","Sports","Entertainment","Science"],me=[{name:"Home",to:"/"},{name:"About",to:"/about"},{name:"Contact",to:"/contact"},{name:"Write",to:"/editor"},{name:"Privacy Policy",to:"/privacy"},{name:"Terms of Service",to:"/terms"}],ue=()=>s.jsxs("footer",{className:"bg-gradient-to-r from-blue-900 to-indigo-900 text-white  pb-6 px-4 ",children:[s.jsxs("div",{className:"max-w-7xl mx-auto flex flex-col md:flex-row md:justify-between gap-10",children:[s.jsxs("div",{className:"flex-1 min-w-[220px]",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[s.jsx("img",{src:"/logo192.png",alt:"Spread Logo",className:"w-10 h-10 rounded-full shadow-lg"}),s.jsx("span",{className:"text-2xl font-bold tracking-tight",children:"Spread"})]}),s.jsx("p",{className:"text-sm text-gray-200 mb-2",children:"Bahawalpur, Pakistan"}),s.jsxs("p",{className:"text-sm text-gray-200 mb-2",children:["Phone: ",s.jsx("a",{href:"tel:+923283126920",className:"hover:underline",children:"+92 328 3126920"})]}),s.jsxs("p",{className:"text-xs text-gray-400 mt-4",children:["Â© ",(new Date).getFullYear()," Shumse. All rights reserved."]})]}),s.jsxs("div",{className:"flex-1 min-w-[180px]",children:[s.jsx("h3",{className:"font-semibold text-lg mb-3",children:"Site Links"}),s.jsx("ul",{className:"space-y-2",children:me.map(e=>s.jsx("li",{children:s.jsx(n,{to:e.to,className:"hover:underline text-gray-200 transition",children:e.name})},e.name))})]}),s.jsxs("div",{className:"flex-1 min-w-[220px]",children:[s.jsx("h3",{className:"font-semibold text-lg mb-3",children:"Popular Categories"}),s.jsx("div",{className:"flex flex-wrap gap-2",children:ce.map(e=>s.jsx(n,{to:`/search/${encodeURIComponent(e.toLowerCase())}`,className:"bg-white/10 hover:bg-white/20 text-gray-100 px-3 py-1 rounded-full text-sm font-medium transition",children:e},e))})]})]}),s.jsxs("div",{className:"mt-10 border-t border-white/10 pt-6 text-center text-xs text-gray-400",children:["Built with ",s.jsx("span",{className:"text-pink-400",children:"â™¥"})," by Shumse Team â€” Follow us on",s.jsx("a",{href:"https://twitter.com/",target:"_blank",rel:"noopener noreferrer",className:"ml-1 hover:underline text-blue-300",children:"X"})]})]});class xe extends i.Component{constructor(e){super(e),t(this,"handleReset",()=>{this.setState({hasError:!1,error:null,errorInfo:null})}),this.state={hasError:!1,error:null,errorInfo:null,errorCount:0}}static getDerivedStateFromError(e){return{hasError:!0}}componentDidCatch(e,t){this.setState(r=>({error:e,errorInfo:t,errorCount:r.errorCount+1}))}render(){return this.state.hasError?s.jsx(he,{error:this.state.error,errorInfo:this.state.errorInfo,errorCount:this.state.errorCount,onReset:this.handleReset}):this.props.children}}const he=({error:e,errorInfo:t,errorCount:r,onReset:a})=>{const n=l(),i=r>2;return s.jsx("div",{className:"min-h-screen flex items-center justify-center bg-neutral-50 dark:bg-neutral-900 p-4",children:s.jsx(P.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"max-w-2xl w-full",children:s.jsxs("div",{className:"glass-card p-8 md:p-12 text-center",children:[s.jsx(P.div,{initial:{scale:0},animate:{scale:1},transition:{delay:.1,type:"spring"},className:"w-24 h-24 mx-auto mb-6 rounded-full bg-error-light dark:bg-error-dark/20 flex items-center justify-center",children:s.jsx("i",{className:"fi fi-rr-exclamation text-5xl text-error"})}),s.jsx("h1",{className:"text-3xl md:text-4xl font-bold text-neutral-900 dark:text-neutral-50 mb-4",children:"Oops! Something went wrong"}),s.jsx("p",{className:"text-lg text-neutral-600 dark:text-neutral-400 mb-8",children:i?"We're experiencing persistent issues. Please contact support if this continues.":"Don't worry, we're on it! Try refreshing the page or going back home."}),!1,s.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[s.jsxs("button",{onClick:()=>{a(),n("/")},className:"btn btn-primary",children:[s.jsx("i",{className:"fi fi-rr-home"}),"Go to Homepage"]}),!i&&s.jsxs("button",{onClick:()=>{a(),window.location.reload()},className:"btn btn-secondary",children:[s.jsx("i",{className:"fi fi-rr-refresh"}),"Reload Page"]})]}),s.jsx("div",{className:"mt-8 pt-8 border-t border-neutral-200 dark:border-neutral-700",children:s.jsxs("p",{className:"text-sm text-neutral-500 dark:text-neutral-400",children:["Need help? Contact our support team at"," ",s.jsx("a",{href:"mailto:buyshumse@gmail.com",className:"text-primary-600 hover:underline",children:"buyshumse@gmail.com"})]})})]})})})},ge=()=>{const{userAuth:e}=r.useContext(tt),{profile_img:t,fullname:a,username:i,access_token:l,new_notification_available:m}=e||{},u=a?a.split(" ")[0]:"",[x,h]=r.useState(""),[g,p]=r.useState(!1);return null===l?s.jsx(c,{to:"/signin"}):s.jsxs("section",{className:"relative flex max-md:flex-col",children:[s.jsxs("div",{className:"md:hidden bg-white border-b border-gray-200 flex items-center justify-between px-4 py-3 sticky top-0 z-40 shadow-sm",children:[s.jsx("button",{onClick:()=>{p(e=>!e)},className:"text-xl text-gray-800 focus:outline-none","aria-label":"Toggle navigation",children:s.jsx("i",{className:"fi fi-rr-bars-staggered"})}),s.jsx("span",{className:"capitalize font-medium",children:x})]}),s.jsxs("div",{className:`bg-white border-r border-gray-200 p-6 pt-4 min-w-[200px] h-screen md:sticky top-24 z-30 transition-transform duration-300 ease-in-out ${g?"translate-x-0":"-translate-x-full"} md:translate-x-0 md:relative fixed md:flex flex-col w-3/4 max-w-[250px]`,children:[s.jsx("div",{className:"text-xl font-semibold text-dark-gray mb-4",children:"Dashboard"}),s.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[s.jsx("img",{src:t,alt:"profile",className:"w-12 h-12 rounded-full border-2 border-info"}),s.jsxs("div",{children:[s.jsx("h1",{className:"font-bold capitalize text-lg",children:u}),s.jsxs(n,{to:`/user/${i}`,className:"text-sm text-twitter",children:["@",i]})]})]}),s.jsx("hr",{className:"border-gray-300 mb-4"}),s.jsxs(o,{to:"/dashboard/blogs",onClick:()=>{h("Posts"),p(!1)},className:({isActive:e})=>"sidebar-link flex items-center gap-2 py-2 px-3 rounded hover:text-twitter transition "+(e?"text-twitter font-semibold":"text-gray-800"),children:[s.jsx("i",{className:"fi fi-rr-document text-xl"}),s.jsx("span",{children:"Posts"})]}),s.jsxs(o,{to:"/dashboard/stories",onClick:()=>{h("Stories"),p(!1)},className:({isActive:e})=>"sidebar-link flex items-center gap-2 py-2 px-3 rounded hover:text-twitter transition "+(e?"text-twitter font-semibold":"text-gray-800"),children:[s.jsx("i",{className:"fi fi-rr-film text-xl"}),s.jsx("span",{children:"Stories"})]}),s.jsxs(o,{to:"/dashboard/notifications",onClick:()=>{h("Notification"),p(!1)},className:({isActive:e})=>"sidebar-link relative flex items-center gap-2 py-2 px-3 rounded hover:text-twitter transition "+(e?"text-twitter font-semibold":"text-gray-800"),children:[s.jsx("i",{className:"fi fi-rr-bell text-xl"}),"                  ",m?s.jsx("span",{className:"bg-red rounded-full w-3 h-3 absolute z-10 top-2 left-2"}):"",s.jsx("span",{children:"Notification"})]}),s.jsxs(o,{to:"/editor",onClick:()=>{h("Create"),p(!1)},className:({isActive:e})=>"sidebar-link flex items-center gap-2 py-2 px-3 rounded hover:text-twitter transition "+(e?"text-twitter font-semibold":"text-gray-800"),children:[s.jsx("i",{className:"fi fi-rr-file-edit text-xl"}),s.jsx("span",{children:"Create"})]}),s.jsx("hr",{className:"border-gray-300 my-4"}),s.jsx("div",{className:"text-xl font-semibold text-dark-gray mb-3",children:"Settings"}),s.jsxs(o,{to:"/settings/edit-profile",onClick:()=>{h("Edit Profile"),p(!1)},className:({isActive:e})=>"sidebar-link flex items-center gap-2 py-2 px-3 rounded hover:text-twitter transition "+(e?"text-twitter font-semibold":"text-gray-800"),children:[s.jsx("i",{className:"fi fi-rr-user text-xl"}),s.jsx("span",{children:"Edit Profile"})]}),s.jsxs(o,{to:"/settings/update-password",onClick:()=>{h("Update Password"),p(!1)},className:({isActive:e})=>"sidebar-link flex items-center gap-2 py-2 px-3 rounded hover:text-twitter transition "+(e?"text-twitter font-semibold":"text-gray-800"),children:[s.jsx("i",{className:"fi fi-rr-lock text-xl"}),s.jsx("span",{children:"Update Password"})]})]}),s.jsx("div",{className:"flex-1 p-4 md:p-6",children:s.jsx(d,{})})]})},pe=k(N({apiKey:"AIzaSyCPMhVVfYJ2RbuXLF1ecKV7JJNvzwKtEgE",authDomain:"spread-9d86b.firebaseapp.com",projectId:"spread-9d86b",storageBucket:"spread-9d86b.appspot.com",messagingSenderId:"891034204951",appId:"1:891034204951:web:04eb5ba97b9c259c2fd552",measurementId:"G-73ZHVS8WR8"})),fe=new A,ye=({type:e})=>{const{userAuth:t,setUserAuth:a}=r.useContext(tt),[i,o]=r.useState(!1),[d,x]=r.useState(!1),[h,g]=r.useState(""),[p,f]=r.useState(""),[y,b]=r.useState(""),j=(null==t?void 0:t.access_token)||null,w=l(),v=async(e,t)=>{var r,s;o(!0);try{const{data:r}=await Z.post(e,t);V(r.user.access_token),$("user",JSON.stringify(r.user)),a(r.user),u.success(r.message||"Success!"),w("/")}catch(n){const e=(null==(s=null==(r=n.response)?void 0:r.data)?void 0:s.error)||n.message||"Something went wrong. Please try again.";u.error(e)}finally{o(!1)}};return j?s.jsx(c,{to:"/"}):s.jsxs(ne,{keyValue:e,children:[s.jsx(de,{}),s.jsxs("section",{className:"h-cover flex items-center justify-center bg-gradient-to-r from-purple-500 to-indigo-600 dark:from-gray-800 dark:to-gray-900 py-10 px-4 sm:px-6 lg:px-8",children:[s.jsx(m,{}),s.jsxs("form",{id:"formElement",className:"w-full max-w-md bg-white/80 dark:bg-gray-800/80 backdrop-blur-sm p-8 rounded-2xl shadow-2xl",onSubmit:t=>{t.preventDefault();let r="sign-in"===e?"/signin":"/signup";if("sign-up"===e&&(!y||y.length<3||y.length>20))return u.error("Full name must be between 3 and 20 characters long.");if(!h||!/^[\w-.]+@[\w-]+\.[a-z]{2,}$/i.test(h))return u.error("Invalid email format.");if(!p||!/^(?=.*\d)(?=.*[a-z])(?=.*[A-Z]).{8,}$/.test(p))return u.error("Password must be at least 8 characters long with one number, one lowercase, and one uppercase letter.");const s={email:h,password:p};"sign-up"===e&&(s.fullname=y),v(r,s)},children:[s.jsx("h1",{className:"text-4xl font-bold text-center text-gray-900 dark:text-white mb-8",children:"sign-in"===e?"Welcome back!":"Join Us Today!"}),"sign-in"!==e&&s.jsxs("div",{className:"mb-4",children:[s.jsx("label",{htmlFor:"fullname",className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"Full Name"}),s.jsx("input",{id:"fullname",name:"fullname",type:"text",placeholder:"Full Name",value:y,onChange:e=>b(e.target.value),required:!0,className:"mt-1 block w-full px-4 py-2 border border-gray-300 rounded-lg shadow-sm focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 dark:bg-gray-700 dark:border-gray-600 dark:text-white dark:focus:ring-indigo-600 dark:focus:border-indigo-600"})]}),s.jsxs("div",{className:"mb-4",children:[s.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"Email Address"}),s.jsx("input",{id:"email",name:"email",type:"email",placeholder:"Email Address",value:h,onChange:e=>g(e.target.value),required:!0,className:"mt-1 block w-full px-4 py-2 border border-gray-300 rounded-lg shadow-sm focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 dark:bg-gray-700 dark:border-gray-600 dark:text-white dark:focus:ring-indigo-600 dark:focus:border-indigo-600"})]}),s.jsxs("div",{className:"mb-4",children:[s.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"Password"}),s.jsxs("div",{className:"relative",children:[s.jsx("input",{id:"password",name:"password",type:d?"text":"password",placeholder:"Enter Password",value:p,onChange:e=>f(e.target.value),required:!0,className:"mt-1 block w-full px-4 py-2 border border-gray-300 rounded-lg shadow-sm focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 dark:bg-gray-700 dark:border-gray-600 dark:text-white dark:focus:ring-indigo-600 dark:focus:border-indigo-600"}),s.jsx("button",{type:"button",onClick:()=>x(!d),className:"absolute inset-y-0 right-0 pr-3 flex items-center text-sm leading-5",children:d?s.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 text-gray-500 dark:text-gray-400",viewBox:"0 0 20 20",fill:"currentColor",children:[s.jsx("path",{d:"M10 12a2 2 0 100-4 2 2 0 000 4z"}),s.jsx("path",{fillRule:"evenodd",d:"M.458 10C1.732 5.943 5.522 3 10 3s8.268 2.943 9.542 7c-1.274 4.057-5.064 7-9.542 7S1.732 14.057.458 10zM14 10a4 4 0 11-8 0 4 4 0 018 0z",clipRule:"evenodd"})]}):s.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 text-gray-500 dark:text-gray-400",viewBox:"0 0 20 20",fill:"currentColor",children:[s.jsx("path",{fillRule:"evenodd",d:"M3.707 2.293a1 1 0 00-1.414 1.414l14 14a1 1 0 001.414-1.414l-1.473-1.473A10.014 10.014 0 0019.542 10C18.268 5.943 14.478 3 10 3a9.958 9.958 0 00-4.512 1.074l-1.78-1.781zm4.261 4.26l1.514 1.515a2.003 2.003 0 012.45 2.45l1.514 1.514a4 4 0 00-5.478-5.478z",clipRule:"evenodd"}),s.jsx("path",{d:"M12.454 16.697L9.75 13.992a4 4 0 01-3.742-3.741L2.335 6.578A9.98 9.98 0 00.458 10c1.274 4.057 5.064 7 9.542 7 .847 0 1.669-.105 2.454-.303z"})]})})]})]}),s.jsx("button",{type:"submit",className:"w-full flex justify-center py-2 px-4 border border-transparent btn-dark rounded-lg shadow-sm text-sm font-medium text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 disabled:opacity-70",disabled:i,children:i?s.jsxs("div",{className:"flex items-center",children:[s.jsxs("svg",{className:"animate-spin -ml-1 mr-3 h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[s.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),s.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Processing..."]}):"sign-in"===e?"Sign In":"Sign Up"}),s.jsxs("div",{className:"relative my-8",children:[s.jsx("div",{className:"absolute inset-0 flex items-center",children:s.jsx("div",{className:"w-full border-t border-gray-300 dark:border-gray-600"})}),s.jsx("div",{className:"relative flex justify-center text-sm",children:s.jsx("span",{className:"px-2 bg-white dark:bg-gray-800 text-gray-500 dark:text-gray-400",children:"Or continue with"})})]}),s.jsxs("button",{type:"button",onClick:async e=>{e.preventDefault();try{const e=await(async()=>{try{return(await S(pe,fe)).user}catch(e){throw new Error("Failed to sign in with Google. Please try again.")}})();if(e){const t={fullname:e.displayName,email:e.email,googleId:e.uid,profile_img:e.photoURL};await v("/google-auth",t)}}catch(t){u.error("Google sign-in failed. Please try again.")}},className:"w-full flex justify-center items-center gap-3 py-2 px-4 border border-gray-300 dark:border-gray-600 rounded-lg shadow-sm bg-white dark:bg-gray-700 text-sm font-medium text-gray-700 dark:text-gray-200 hover:bg-gray-50 dark:hover:bg-gray-600 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 transition-colors",children:[s.jsx("img",{src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACYAAAAoCAYAAACSN4jeAAAACXBIWXMAABYlAAAWJQFJUiTwAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAVeSURBVHgBzZhrbBRVFMfPuTO77dKtSCm1BQklppJCjEIfFIkUaHk2IKUEaQwR0FSNaIhA1BZCY2hVPho/CMQH0aatUgU+FLQPln5oKxTKIwEkJWwFoTwKWNjtY2fmeHaBdi3dmV12WfkluzN375mZ/9x79pxzL8ATCkIQUEGB6cb54+P5Lkka0gjUUAIJHQLopirJ7c/sbzwPj0jAwjrmvhwnq8oqDWA+S0vnn6J0zG8DUSOg+EmT5P3xvzdeAz/xW1hH9tQMCdRNRMiCQIIAIQAHAlaYTGLriAPNdiN7Q2FnF0+PjnG6SvnN10II4Af+xV8lo2qP7DCw8831WWmZJGAnnyZBiEGkckWWCxN8jJ7wdWFHdvr7JKj+cYhywy6RLyvqd776hxR2NSv9Q0H0Jb+XT+HBwv7WrvbhGt/9g0XNTpmLKA5AkKHEUJQLZsU3HL7g28aLW/MzEhVFbSCCseAHhHBcEOwD1A6TYv5TEeiSRV8MoJQApOWwwUK2SgxUlBvZu6G46HP+WxuKYptjAml9XG2LbYjudv608qfa3eicnbZaQdyCQOO4eUNFdVF8w9ELRs/oH7HrczIWk6buNb6AtsWq1iK02RTwk8uzJ4+ThWm7BtLG+NqmU/5c0y+st9La2lX53Ev0j9m3taCiuJqWUggDHmGuWnkanzZSj0TddaO13pMjH47sBFvj6o9shjAh7qnDAs8xUsVhORclS+YVQnS7Uj8XRs3I2QJhxDNiSq35EgGN8e5Qrli0u7+OF56pJVjNo/U9hBHRV2OaPFiUGzmhW0S/3gbS2Lsdo7SoCggzMgEm/3fWBpCG98HwlW31mHWmB/wgq8S5jVB7FYKE8/MHskCYoGuFUAf+glocv+PzECRCg0msi2L1jIikNgg/Y1gcDtOzIFXqgjCjAUVxuCD9CC5pZvgfEIjYqWdAqhq0zwSKAF7QcN2lm1BRUCqEHeyUVYRWHDpagJNk+NY5YXnK9vSNR9/e4TK6HWnaXq6Z7WAIzuKvGToGp5EOAle4puvceNq75291GGy4kwF2xequu3KPvla1B0JEVundGq75sn31C61nomDtCj+42rvjUF8Crbmd6RHlhkPKOggR8z/rTtQTxT5/sXZz7BlPElcV+sZ95AUCfO1Mho+70rCLTAPWhJlplbkbIAS4NFW/GCCeQ7hfXUTOUw52aJGn1nZNo13OJB/24ovU8qXLIAiySh1L2J1XGZj92C+MSwzK7Zzz6TFXrN4ChP/FWJFWuXQ9PIqokjsrOF2V6dlw+XW+rshac+/ci5SKZQ3sT6+AAewHZZImb2rOr7Ab2c7clx/rcFhKLFffeFN2pEj694VVdYXWXQ8Jm1qWl6RK2MID+BT4xy+cP3bz9LRGn+tssxXblAXVCyLuOC1jelwwnV9gEfflsJ0n7UXcWkIRN3OHnhUOW/WF1ikDzUHwqL3Fo7YTAscdDd2xTjeFmR0ZauS1NQhahBgQQV2qkF+0fWKxP/jtoaG9svv0sdF5ye5xnQmBgeDHLpBqviRc0c1gckxB1B7UD/jOwcIom7fdkDe6XHXm0Oi8SeyLMBMeAySc6IpuIkmJ0UTvs0X1m6xfDbbR3QZILc97jy22wX0fCTFOToXrjuRXDek2hvsTGeVLEhWUfuPTkFUZ/NATshArm5b/7HPxa7ib05y/x95ytiqZ08i7fEM7BMdt9t2Pos6+kKonyk1AOzrFxcWiesLJFbzozOdLs3l1FWl0DYeMbg4pTbyKrxDRkZV/LCzzqyJ+5K2mlJYCE5y7NVXI2kTOpZyYaST7jJnTbR8SdvKxndunemMsJ07O+8EBAfIvZzP9J7slOesAAAAASUVORK5CYII=",className:"w-5 h-5",alt:"Google"}),"Continue with Google"]}),s.jsx("div",{className:"mt-8 text-center",children:s.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"sign-in"===e?s.jsxs(s.Fragment,{children:["Don't have an account?"," ",s.jsx(n,{to:"/signup",className:"font-medium text-indigo-600 hover:text-indigo-500 dark:text-indigo-400",children:"Join us today"})]}):s.jsxs(s.Fragment,{children:["Already a member?"," ",s.jsx(n,{to:"/signin",className:"font-medium text-indigo-600 hover:text-indigo-500 dark:text-indigo-400",children:"Sign in here"})]})})})]})]})]})},be=({routes:e,defaultHidden:t=[],children:a,onRouteChange:n})=>{const i=r.useRef(null),[l,o]=r.useState(0),d=r.useRef([]),c=e=>t.includes(e)?"md:hidden":"",m=r.useCallback(e=>{o(e),setTimeout(()=>{const t=d.current[e];t&&i.current&&(i.current.style.width=`${t.offsetWidth}px`,i.current.style.left=`${t.offsetLeft}px`)},10)},[]);return r.useEffect(()=>{m(l)},[m,l]),s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"relative mb-3 bg-white border-b border-dark-grey border-opacity-40 flex flex-nowrap overflow-hidden",children:[s.jsx("div",{className:"flex flex-nowrap items-center space-x-1 md:space-x-2",children:e.map((e,t)=>s.jsx("button",{ref:e=>d.current[t]=e,className:`p-4 px-5 capitalize transition-all whitespace-nowrap ${l===t?"text-black font-semibold":"text-dark-grey opacity-70"} ${c(e)}`,onClick:()=>((e,t)=>{m(t),n&&n(e)})(e,t),children:e},t))}),s.jsx("hr",{ref:i,className:"absolute bottom-0 h-1 bg-black transition-all duration-300"})]}),Array.isArray(a)?a[l]:a]})},je=({size:e="md",className:t="",color:r="primary"})=>s.jsx(P.div,{className:`${{sm:"w-5 h-5 border-2",md:"w-8 h-8 border-3",lg:"w-12 h-12 border-4"}[e]} ${{primary:"border-primary border-t-transparent",white:"border-white border-t-transparent",neutral:"border-neutral-400 border-t-transparent"}[r]} rounded-full ${t}`,animate:{rotate:360},transition:{duration:.8,repeat:1/0,ease:"linear"}}),we=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],ve=e=>{const t=new Date(e);return`${t.getDate()} ${we[t.getMonth()]}`},Ne=e=>{if(!e)return"";const t=new Date(e),r=new Date,s=r-t,a=Math.floor(s/864e5);if(0===a)return"Today";if(1===a)return"Yesterday";if(a<7)return`${a} days ago`;const n=t.getDate(),i=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"][t.getMonth()],l=t.getFullYear();return l!==r.getFullYear()?`${n} ${i} ${l}`:`${n} ${i}`},ke=r.memo(({content:e,searchedTag:t})=>{if(!e)return null;const{blog_id:r,title:a,banner:i,des:l,tags:o=[],publishedAt:d,activity:c,author:m,authorId:u,user:x}=e,h=m||u||x||{},{personal_info:g={}}=h,{fullname:p=h.fullname||"Anonymous",username:f=h.username||"unknown",profile_img:y=h.profile_img||"https://via.placeholder.com/100"}=g;return s.jsxs(P.article,{whileHover:{y:-4},transition:{duration:.2},className:"group relative flex gap-6 items-center bg-white dark:bg-neutral-800 shadow-sm hover:shadow-xl transition-all border border-neutral-200 dark:border-neutral-700 rounded-2xl p-6 mb-6",children:[s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsxs("header",{className:"flex items-center gap-3 mb-4",children:[s.jsx(P.div,{whileHover:{scale:1.1},transition:{duration:.2},children:s.jsx(oe,{src:y,alt:p,className:"w-11 h-11 rounded-full border-2 border-neutral-200 dark:border-neutral-700 shadow-sm object-cover"})}),s.jsxs("div",{className:"text-sm font-semibold flex flex-col sm:flex-row sm:gap-2 sm:items-center",children:[s.jsx("span",{className:"capitalize text-neutral-900 dark:text-white",children:p}),f&&s.jsxs("span",{className:"text-neutral-500 dark:text-neutral-400 font-normal",children:["@",f]})]}),d&&s.jsx("time",{dateTime:d,className:"ml-auto text-xs text-neutral-400 font-medium",children:ve(d)})]}),s.jsx("h3",{className:"text-xl font-bold line-clamp-2 text-neutral-900 dark:text-white group-hover:text-primary transition-colors duration-150 mb-2",children:s.jsx(n,{to:`/post/${r}`,className:"before:absolute before:inset-0 focus:outline-none",children:a})}),t&&s.jsx("div",{className:"mb-2",children:s.jsxs(P.span,{whileHover:{scale:1.05},className:"px-3 py-1 bg-gradient-to-r from-primary to-primary-600 text-white rounded-full text-xs font-semibold shadow-sm",children:["#",t]})}),s.jsx("p",{className:"text-neutral-600 dark:text-neutral-300 text-base leading-relaxed line-clamp-2 mb-4",children:l}),s.jsxs("footer",{className:"flex items-center gap-4",children:[Array.isArray(o)&&o.length>0&&s.jsxs(P.span,{whileHover:{scale:1.05},className:"px-3 py-1 bg-neutral-100 dark:bg-neutral-700 text-neutral-600 dark:text-neutral-300 text-xs rounded-full font-medium",children:["#",o[0]]}),s.jsxs(P.span,{whileHover:{scale:1.1},className:"flex items-center gap-1 text-neutral-500 dark:text-neutral-400 text-sm font-medium","aria-label":`${(null==c?void 0:c.total_likes)??0} likes`,children:[s.jsx("i",{className:"fi fi-rr-heart"}),(null==c?void 0:c.total_likes)??0]})]})]}),s.jsx(P.div,{whileHover:{scale:1.05},transition:{duration:.3},className:"hidden sm:block w-32 h-32 rounded-xl overflow-hidden shadow-md flex-shrink-0 bg-neutral-100 dark:bg-neutral-700",children:i?s.jsx(oe,{src:i,alt:`Banner for ${a}`,className:"w-full h-full object-cover"}):s.jsx("div",{className:"w-full h-full flex items-center justify-center text-neutral-300 dark:text-neutral-600",children:s.jsx("i",{className:"fi fi-rr-image text-3xl"})})})]})});ke.displayName="PostCard";const Ae=r.memo(({blog:e,index:t})=>{let{title:r,blog_id:a,publishedAt:i,banner:l,authorId:{personal_info:{fullname:o,username:d,profile_img:c}},activity:{total_likes:m}}=e;return s.jsxs(n,{to:`/post/${a}`,className:"flex gap-4 items-center border-b border-dark-grey border-opacity-30 pb-4 mb-6",children:[s.jsx("div",{className:"w-10 text-lg font-semibold text-dark-grey shrink-0",children:t<10?`0${t+1}`:t+1}),s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-3 text-sm text-dark-grey",children:[s.jsx("img",{src:c,alt:"Author",className:"w-7 h-7 rounded-full"}),s.jsxs("span",{className:"font-medium",children:[o," ",s.jsxs("span",{className:"opacity-70",children:["@",d]})]}),s.jsx("p",{className:"min-w-fit opacity-60 text-xs",children:ve(i)})]}),s.jsxs("div",{className:"flex justify-between gap-4",children:[s.jsx("h1",{className:"line-clamp-2 text-base font-semibold",children:r}),s.jsx("img",{className:"w-20 h-20 rounded-lg object-cover",src:l,alt:"Banner"})]}),s.jsxs("div",{className:"flex items-center gap-2 mt-2 text-dark-grey text-sm",children:[s.jsx("i",{className:"fi fi-rr-social-network text-lg"}),m]})]})]})});Ae.displayName="MinimalPostCard";const Se=({isSearchPage:e=!1,pageType:t="post"})=>s.jsxs("div",{className:"flex flex-col items-center justify-center w-full p-8 mt-10",children:[s.jsx("img",{src:"/assets/no-data-CZ06bRv7.png",alt:"No Data",className:"w-52 h-52 opacity-90 drop-shadow-lg"}),e?s.jsx("p",{className:"text-gray-700 text-xl font-semibold mt-6",children:"No results found. Try searching something different or try again later."}):s.jsxs(s.Fragment,{children:[s.jsx("p",{className:"text-gray-700 text-xl font-semibold mt-6",children:"story"===t?"ðŸ˜” Oops! No story found.":"ðŸ˜” Oops! No post found."}),s.jsx("p",{className:"text-gray-500 text-sm mt-2",children:"story"===t?"Maybe check back later or try exploring different stories.":"Try exploring different categories or check back later."})]})]}),Ee="/assets/full-logo-j4i7Krzv.png",_e=i.memo(()=>{const e=[{bg:"bg-gradient-to-r from-blue-50 to-indigo-50",border:"border-blue-200",text:"text-blue-600"},{bg:"bg-gradient-to-r from-green-50 to-teal-50",border:"border-green-200",text:"text-green-600"},{bg:"bg-gradient-to-r from-purple-50 to-pink-50",border:"border-purple-200",text:"text-purple-600"},{bg:"bg-gradient-to-r from-yellow-50 to-orange-50",border:"border-yellow-200",text:"text-yellow-600"},{bg:"bg-gradient-to-r from-red-50 to-pink-50",border:"border-red-200",text:"text-red-600"}],t=[{shape:"rounded-lg",shadow:"shadow-md"},{shape:"rounded-xl",shadow:"shadow-lg"},{shape:"rounded-2xl",shadow:"shadow-xl"},{shape:"rounded-full",shadow:"shadow-md"}],a=[{width:"w-full",height:"h-40"},{width:"w-11/12",height:"h-48"},{width:"w-5/6",height:"h-44"},{width:"w-full",height:"h-52"}],[n,i]=r.useState(e[0]),[l,o]=r.useState(t[0]),[d,c]=r.useState(a[0]),[m,u]=r.useState(!1),[x,h]=r.useState({type:"image",content:Ee,alt:"Advertisement Banner"});r.useEffect(()=>{const r=()=>{if(i(e[Math.floor(Math.random()*e.length)]),o(t[Math.floor(Math.random()*t.length)]),c(a[Math.floor(Math.random()*a.length)]),u(!0),Math.random()<.3){const e=["Upgrade to Premium for exclusive content!","Limited time offer: 50% off all courses!","Join our community of 10,000+ readers!","New eBook available - Download now!","Subscribe to our newsletter for weekly insights!"];h({type:"text",content:e[Math.floor(Math.random()*e.length)],cta:"Learn More"})}else h({type:"image",content:Ee,alt:"Advertisement Banner"})};r();const s=setInterval(r,1e4+1e4*Math.random());return()=>clearInterval(s)},[]);const[g,p]=r.useState(!1);return s.jsxs(P.div,{className:`ad-section my-8 p-4 ${n.bg} border ${n.border} ${l.shape} ${l.shadow} mx-auto ${d.width}`,initial:{opacity:0,y:20},animate:{opacity:m?1:0,y:m?0:20},transition:{duration:.5},children:[s.jsxs("h3",{className:`text-center text-lg font-medium mb-3 ${n.text}`,children:["Advertisement",s.jsx("span",{className:"text-xs ml-2 bg-white/30 px-2 py-1 rounded-full",children:"Sponsored"})]}),s.jsx(P.div,{className:`flex justify-center items-center ${d.height} bg-white/50 ${l.shape} overflow-hidden relative`,whileHover:{scale:1.02},transition:{duration:.2},children:"text"===x.type?s.jsxs("div",{className:"text-center p-4",children:[s.jsx("p",{className:"text-lg font-medium mb-2",children:x.content}),s.jsx("button",{className:"px-4 py-2 bg-gradient-to-r from-blue-500 to-indigo-600 text-white rounded-full text-sm font-medium hover:opacity-90 transition-opacity",children:x.cta})]}):s.jsxs(s.Fragment,{children:[!g&&s.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:s.jsx("div",{className:"animate-pulse bg-gray-200 w-full h-full"})}),s.jsx(P.img,{src:x.content,alt:x.alt,className:"max-h-full max-w-full object-contain p-2 "+(g?"opacity-100":"opacity-0"),initial:{opacity:0},animate:{opacity:g?1:0},transition:{duration:.5},onLoad:()=>p(!0),onError:()=>{h({type:"text",content:"Special offer just for you!",cta:"Click Here"})}})]})}),s.jsx("div",{className:"text-center mt-2 text-xs text-gray-500",children:"Ads help support our content"})]})}),Ce=({title:e,description:t,canonical:r,type:a="website",image:n,schema:i})=>{const l="Shumse",o="https://spread-server.onrender.com",d=r?r.startsWith("http")?r:`${o}${r}`:o,c=n?n.startsWith("http")?n:`${o}${n}`:`${o}/og-image.png`;return s.jsxs(x,{children:[s.jsx("title",{children:e?`${e} | ${l}`:l}),s.jsx("meta",{name:"description",content:t}),s.jsx("link",{rel:"canonical",href:d}),s.jsx("meta",{property:"og:type",content:a}),s.jsx("meta",{property:"og:url",content:d}),s.jsx("meta",{property:"og:title",content:e||l}),s.jsx("meta",{property:"og:description",content:t}),s.jsx("meta",{property:"og:image",content:c}),s.jsx("meta",{property:"og:site_name",content:l}),s.jsx("meta",{name:"twitter:card",content:"summary_large_image"}),s.jsx("meta",{name:"twitter:url",content:d}),s.jsx("meta",{name:"twitter:title",content:e||l}),s.jsx("meta",{name:"twitter:description",content:t}),s.jsx("meta",{name:"twitter:image",content:c}),i&&s.jsx("script",{type:"application/ld+json",children:JSON.stringify(i)})]})};Ce.propTypes={title:w.string,description:w.string,canonical:w.string,type:w.string,image:w.string,schema:w.object};const Pe=()=>s.jsxs("div",{className:"flex gap-6 items-center bg-white/70 shadow-xl border border-blue-100 rounded-2xl p-6 mb-8",style:{boxShadow:"0 8px 32px 0 rgba(31, 38, 135, 0.10), 0 1.5px 8px 0 rgba(80, 120, 255, 0.06)"},children:[s.jsxs("div",{className:"flex-1 min-w-0 animate-pulse",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[s.jsx("div",{className:"w-11 h-11 rounded-full bg-gray-200"}),s.jsxs("div",{className:"flex-1",children:[s.jsx("div",{className:"h-4 bg-gray-200 rounded w-1/3"}),s.jsx("div",{className:"h-3 bg-gray-200 rounded w-1/4 mt-1"})]}),s.jsx("div",{className:"h-3 bg-gray-200 rounded w-1/6 ml-auto"})]}),s.jsx("div",{className:"h-6 bg-gray-200 rounded w-5/6 mb-1"}),s.jsx("div",{className:"h-6 bg-gray-200 rounded w-3/4"}),s.jsx("div",{className:"h-4 bg-gray-200 rounded w-full mt-3"}),s.jsx("div",{className:"h-4 bg-gray-200 rounded w-4/5 mt-1"}),s.jsxs("div",{className:"flex items-center mt-5 gap-4",children:[s.jsx("div",{className:"h-6 w-16 bg-gray-200 rounded-full"}),s.jsx("div",{className:"h-6 w-12 bg-gray-200 rounded"})]})]}),s.jsx("div",{className:"w-32 h-32 rounded-xl flex-shrink-0 bg-gray-200 animate-pulse"})]}),Te=()=>s.jsxs("div",{className:"flex gap-4 items-center border-b border-dark-grey border-opacity-30 pb-4 mb-6",children:[s.jsx("div",{className:"w-10 shrink-0",children:s.jsx("div",{className:"h-6 w-8 bg-gray-200 rounded animate-pulse"})}),s.jsxs("div",{className:"flex-1 animate-pulse",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[s.jsx("div",{className:"w-7 h-7 rounded-full bg-gray-200"}),s.jsx("div",{className:"h-4 bg-gray-200 rounded w-1/2"}),s.jsx("div",{className:"h-3 bg-gray-200 rounded w-1/4 ml-auto"})]}),s.jsxs("div",{className:"flex justify-between gap-4",children:[s.jsxs("div",{className:"w-full",children:[s.jsx("div",{className:"h-5 bg-gray-200 rounded w-full mb-1"}),s.jsx("div",{className:"h-5 bg-gray-200 rounded w-3/4"})]}),s.jsx("div",{className:"w-20 h-20 rounded-lg bg-gray-200 flex-shrink-0"})]})]})]}),Ie=({message:e,onRetry:t})=>s.jsxs("div",{className:"flex flex-col items-center justify-center h-96 text-center text-gray-500",children:[s.jsx("i",{className:"fi fi-rr-exclamation-triangle text-4xl mb-4"}),s.jsx("h2",{className:"text-xl font-semibold mb-2",children:"Oops! Something went wrong."}),s.jsx("p",{className:"mb-6",children:e||"Failed to load content."}),s.jsx("button",{onClick:t,className:"bg-black text-white py-2 px-6 rounded-full font-semibold transition-all hover:bg-opacity-80",children:"Try Again"})]}),Le=(e,t,r)=>{if(!e)return null;const s=(e.results?e.results:e).map(e=>e.blog_id===t?{...e,activity:{...e.activity,total_likes:r}}:e);return e.results?{...e,results:s}:s},Re=(e,t)=>{if(!e)return null;const r=(e.results?e.results:e).filter(e=>e.blog_id!==t);return e.results?{...e,results:r}:r},Oe=()=>{const[e,t]=r.useState(null),[a,n]=r.useState(null),[l,o]=r.useState(null),[d,c]=r.useState("Home"),[m,u]=r.useState(!1),[x,h]=r.useState(!0),[g,p]=r.useState(null),{socket:f}=F(),y=r.useCallback(async(e,r=1)=>{u(!0),1===r&&p(null);const s=e!==l,a=s?1:r;let n=e?"/category-find":"/latest-posts",i={page:a};e&&(i.tag=e);try{const{data:r}=await Z.post(n,i),{blogs:l,totalDocs:d}=r;t(e=>s||1===a?{results:l,page:1,totalDocs:d}:{...e,results:[...e.results,...l],page:a}),h(5*a<d),c(e||"Home"),o(e)}catch(d){p("Failed to load posts. Please check your connection.")}finally{u(!1)}},[l]),b=r.useCallback(async()=>{try{const{data:e}=await Z.get("/trending-posts");n(e.trendingPosts)}catch(e){}},[]),j=e=>{const r=e.target.innerText.trim();l===r?(t(null),y(null,1)):(t(null),y(r,1))};r.useEffect(()=>{y(null,1),b()},[]),r.useEffect(()=>{const t=_.throttle(()=>{const{scrollTop:t,scrollHeight:r,clientHeight:s}=document.documentElement;t+s>=r-150&&!m&&x&&e&&y("Home"===d?null:d,e.page+1)},300);return window.addEventListener("scroll",t),()=>window.removeEventListener("scroll",t)},[e,m,x,d,y]),r.useEffect(()=>{if(f)return f.on("listLikeUpdate",({blog_id:e,total_likes:r})=>{t(t=>Le(t,e,r)),n(t=>Le(t,e,r))}),f.on("newPost",e=>{"Home"===d&&t(t=>({...t,results:[e,...t.results]}))}),f.on("postDeleted",({blog_id:e})=>{t(t=>Re(t,e)),n(t=>Re(t,e))}),()=>{f.off("listLikeUpdate"),f.off("newPost"),f.off("postDeleted")}},[f,d]);const w=["Technology","Science","Health","Business","Entertainment","Sports","Travel","Lifestyle","Fashion","Food","Education","Politics","Environment","Art","Music","Movies","Books","Gaming","History"];if(!e&&!m&&g)return s.jsx(Ie,{message:g,onRetry:()=>y(l,1)});return s.jsxs(ne,{children:[s.jsx(Ce,{title:"Home"===d?"Home":`${d} Blogs`,schema:{"@context":"https://schema.org","@type":"WebSite",name:"Shumse",url:"https://shumse.com",potentialAction:{"@type":"SearchAction",target:"https://shumse.com/search/{search_term_string}","query-input":"required name=search_term_string"}}}),s.jsxs("section",{className:"min-h-screen px-4 md:px-6 lg:px-8 pt-6 pb-20 md:pb-6 max-w-screen-2xl mx-auto",children:[s.jsx("div",{className:"md:hidden mb-6 overflow-x-auto scrollbar-hide -mx-4 px-4",children:s.jsxs("div",{className:"flex gap-2 min-w-max pb-2",children:[s.jsx(P.button,{whileTap:{scale:.95},onClick:()=>{t(null),y(null,1)},className:"px-4 py-2 rounded-full text-sm font-medium whitespace-nowrap transition-all "+(l?"bg-neutral-100 dark:bg-neutral-800 text-neutral-700 dark:text-neutral-300":"bg-primary text-white shadow-lg shadow-primary/30"),children:"All"}),w.slice(0,12).map((e,t)=>s.jsx(P.button,{whileTap:{scale:.95},onClick:j,className:"px-4 py-2 rounded-full text-sm font-medium whitespace-nowrap transition-all "+(l===e?"bg-primary text-white shadow-lg shadow-primary/30":"bg-neutral-100 dark:bg-neutral-800 text-neutral-700 dark:text-neutral-300"),children:e},t))]})}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-[1fr_350px] gap-8",children:[s.jsx("div",{className:"w-full",children:s.jsxs(be,{routes:[d,"Trending Posts"],defaultHidden:["Trending Posts"],children:[s.jsxs("div",{id:"blog-section",className:"space-y-6",children:[null===e?[...Array(3)].map((e,t)=>s.jsx(Pe,{},t)):e.results.length?e.results.map((e,t)=>s.jsxs(i.Fragment,{children:[s.jsx(ne,{transition:{duration:.5,delay:.05*t},children:s.jsx(ke,{content:e,author:e.authorId})}),(t+1)%3==0&&s.jsx(_e,{},`ad-${t}`)]},t)):s.jsx(Se,{}),m&&s.jsx("div",{className:"flex justify-center items-center w-full h-20",children:s.jsx(je,{})})]}),s.jsx("div",{className:"space-y-4",children:null===a?[...Array(5)].map((e,t)=>s.jsx(Te,{},t)):a.length?a.map((e,t)=>s.jsx(ne,{transition:{duration:.5,delay:.05*t},children:s.jsx(Ae,{blog:e,index:t})},t)):s.jsx(Se,{})})]},d)}),s.jsx("aside",{className:"hidden lg:block sticky top-24 h-fit",children:s.jsxs("div",{className:"space-y-8",children:[s.jsxs("div",{className:"bg-white dark:bg-neutral-800 rounded-2xl p-6 border border-neutral-200 dark:border-neutral-700",children:[s.jsxs("h2",{className:"text-lg font-bold mb-4 text-neutral-900 dark:text-white flex items-center gap-2",children:[s.jsx("i",{className:"fi fi-rr-apps text-primary"}),"Categories"]}),s.jsx("div",{className:"flex flex-wrap gap-2",children:w.map((e,t)=>s.jsx(P.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:j,className:"px-3 py-1.5 rounded-lg text-sm font-medium transition-all "+(l===e?"bg-primary text-white shadow-md":"bg-neutral-100 dark:bg-neutral-700 text-neutral-700 dark:text-neutral-300 hover:bg-neutral-200 dark:hover:bg-neutral-600"),children:e},t))})]}),s.jsxs("div",{className:"bg-white dark:bg-neutral-800 rounded-2xl p-6 border border-neutral-200 dark:border-neutral-700",children:[s.jsxs("h2",{className:"text-lg font-bold mb-4 text-neutral-900 dark:text-white flex items-center gap-2",children:[s.jsx("i",{className:"fi fi-rs-arrow-trend-up text-primary"}),"Trending"]}),s.jsx("div",{className:"space-y-4",children:null===a?[...Array(3)].map((e,t)=>s.jsx(Te,{},t)):a.length?a.slice(0,3).map((e,t)=>s.jsx(ne,{transition:{duration:.5,delay:.05*t},children:s.jsx(Ae,{blog:e,index:t})},t)):s.jsx(Se,{})})]})]})})]})]})]})},ze=()=>{const e=l();return s.jsxs("div",{className:"min-h-screen relative overflow-hidden bg-gradient-to-br from-indigo-800 via-purple-600 to-pink-500 flex items-center justify-center p-6",children:[s.jsx(P.div,{className:"absolute inset-0 opacity-30",animate:{rotate:360},transition:{repeat:1/0,duration:120,ease:"linear"},children:s.jsx("div",{className:"w-full h-full bg-[radial-gradient(ellipse_at_center,_var(--tw-gradient-stops))] from-transparent via-transparent to-white"})}),s.jsxs("div",{className:"relative z-10 text-center",children:[s.jsx(P.img,{src:"/assets/not-found-BD3-LcCv.webp",alt:"404 Error",className:"w-64 md:w-80 mb-6 drop-shadow-2xl rounded-full border-4 border-yellow-500",initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},transition:{duration:.6}}),s.jsx(P.h1,{className:"text-7xl md:text-9xl font-extrabold text-yellow-300 drop-shadow-lg",initial:{opacity:0,y:-50},animate:{opacity:1,y:0},transition:{duration:.5},children:"404"}),s.jsx(P.h2,{className:"mt-4 text-3xl md:text-4xl font-bold text-white drop-shadow-md",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3,duration:.5},children:"Uh-oh, something's missing."}),s.jsx(P.p,{className:"mt-2 text-lg md:text-xl text-gray-100 max-w-lg mx-auto drop-shadow-sm",initial:{opacity:0},animate:{opacity:1},transition:{delay:.5,duration:.5},children:"The page youâ€™re looking for doesnâ€™t exist. It might have been removed or is temporarily unavailable."}),s.jsx(P.button,{onClick:()=>e("/"),className:"mt-8 px-8 py-3 bg-yellow-500 text-gray-800 font-semibold rounded-full shadow-xl hover:bg-yellow-600 transition duration-300",initial:{opacity:0},animate:{opacity:1},transition:{delay:.7,duration:.5},children:"Return Home"})]})]})},De=r.lazy(()=>R(()=>import("./profile.page-Dfxwq0B7.js"),__vite__mapDeps([0,1,2,3,4,5,6]))),Fe=r.lazy(()=>R(()=>import("./blog.page-D3KyBvT0.js"),__vite__mapDeps([7,1,2,3,4,5,6]))),Ue=r.lazy(()=>R(()=>import("./search.page-knRHPzId.js"),__vite__mapDeps([8,1,2,3,9,4,5,6]))),$e=r.lazy(()=>R(()=>import("./Contact.page-CFyepu92.js"),__vite__mapDeps([10,1,2,3,5,6,4]))),He=r.lazy(()=>R(()=>import("./editor.pages-DgMhpEEm.js"),__vite__mapDeps([11,1,2,3,12,13,14,5,6,4]))),Me=r.lazy(()=>R(()=>import("./change-password.page-Cm5i4GGF.js"),__vite__mapDeps([15,1,2,3,16,4,5,6]))),Be=r.lazy(()=>R(()=>import("./edit-profile.page-ibvl70Fr.js"),__vite__mapDeps([17,1,2,3,16,4,12,5,6]))),We=r.lazy(()=>R(()=>import("./notifications.page-CJ96CBiN.js"),__vite__mapDeps([18,1,2,3,6,4,5]))),Ve=r.lazy(()=>R(()=>import("./manage-blogs.page-CLbiwzMS.js"),__vite__mapDeps([19,1,2,3,5,6,4]))),Je=r.lazy(()=>R(()=>import("./StoryEditor-DEkBXjBU.js").then(e=>e.a),__vite__mapDeps([13,1,2,3,12]))),qe=r.lazy(()=>R(()=>import("./StoriesList-B0hPz91k.js"),__vite__mapDeps([20,1,2,3,9,5,6,4]))),Ke=r.lazy(()=>R(()=>import("./StoryViewer-Cs10trOO.js"),__vite__mapDeps([21,1,2,3,5,6,4]))),Ge=r.lazy(()=>R(()=>import("./ReaditHomePage-Dd7oOvfE.js"),__vite__mapDeps([22,1,2,3,23,24,4,5,6]))),Qe=r.lazy(()=>R(()=>import("./ReaditCommunityPage-Cn_KgLU1.js"),__vite__mapDeps([25,1,2,3,23,24,4,5,6]))),Xe=r.lazy(()=>R(()=>import("./ReaditPostPage-B0qOAfHg.js"),__vite__mapDeps([26,1,2,3,24,5,6,4]))),Ye=r.lazy(()=>R(()=>import("./ReaditSubmitPage-ClT8mbOf.js"),__vite__mapDeps([27,1,2,3,12,6,5,4]))),Ze=r.lazy(()=>R(()=>import("./ReaditCreateCommunityPage-CqjGJm9m.js"),__vite__mapDeps([28,1,2,3,12,5,6,4]))),et=r.lazy(()=>R(()=>import("./ReaditCreatePostPage-D1kk29bD.js"),__vite__mapDeps([29,1,2,3,12,4,5,6]))),tt=r.createContext({}),rt=()=>s.jsx("div",{className:"flex justify-center items-center min-h-[60vh]",children:s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-orange-500"})}),st=()=>{const[e,t]=r.useState({access_token:null}),[a,n]=r.useState(!1);(()=>{const e=l();r.useEffect(()=>{const t=t=>{if("INPUT"!==t.target.tagName&&"TEXTAREA"!==t.target.tagName&&!t.target.isContentEditable){if((t.ctrlKey||t.metaKey)&&"k"===t.key){t.preventDefault();const r=document.querySelector('input[placeholder="Search"]');r?r.focus():e("/search")}if("n"!==t.key&&"N"!==t.key||t.ctrlKey||t.metaKey||t.altKey||(sessionStorage.getItem("user")?e("/editor"):u.error("Please login to write a story")),"/"===t.key&&!t.ctrlKey&&!t.metaKey&&!t.altKey){t.preventDefault();const r=document.querySelector('input[placeholder="Search"]');r?r.focus():e("/search")}"Escape"===t.key&&(!document.activeElement||"INPUT"!==document.activeElement.tagName&&"TEXTAREA"!==document.activeElement.tagName||document.activeElement.blur())}};return document.addEventListener("keydown",t),()=>document.removeEventListener("keydown",t)},[e])})(),r.useEffect(()=>{let e=(e=>{if(!H.includes(e))return null;const t=sessionStorage.getItem(e);if(!t)return null;try{const e=JSON.parse(t);return"object"==typeof e&&null!==e?B(e):"string"==typeof e?j.sanitize(e):e}catch{return j.sanitize(t)}})("user");if(e){const r=e;r.access_token&&V(r.access_token),t(r)}else V(null),t({access_token:null});n(!0)},[]);const i=r.useMemo(()=>({userAuth:e,setUserAuth:t}),[e]);return a?s.jsx(h,{children:s.jsx(tt.Provider,{value:i,children:s.jsx(z,{children:s.jsx(U,{children:s.jsxs("div",{className:"min-h-screen bg-white dark:bg-[#18181b] text-black dark:text-white transition-colors duration-300",children:[s.jsx(Ce,{title:"Shumse | Modern Blogging Platform",description:"Join the community of writers and readers on Shumse."}),s.jsx(r.Suspense,{fallback:s.jsx(rt,{}),children:s.jsx(xe,{children:s.jsxs(g,{children:[s.jsx(p,{index:!0,element:s.jsxs(s.Fragment,{children:[s.jsx(de,{}),s.jsx(Oe,{}),s.jsx(ue,{})]})}),s.jsx(p,{path:"contact",element:s.jsx($e,{})}),s.jsx(p,{path:"search/:search_query",element:s.jsx(Ue,{})}),s.jsx(p,{path:"search/tag/:search_query",element:s.jsx(Ue,{})}),s.jsx(p,{path:"user/:id",element:s.jsx(De,{})}),s.jsx(p,{path:"post/:blog_id",element:s.jsx(Fe,{})}),s.jsx(p,{path:"stories",element:s.jsx(qe,{})}),s.jsx(p,{path:"stories/trending",element:s.jsx(qe,{})}),s.jsx(p,{path:"story/:story_id",element:s.jsx(Ke,{})}),s.jsxs(p,{path:"readit",children:[s.jsx(p,{path:"home",element:s.jsx(Ge,{})}),s.jsx(p,{path:"c/:communityName",element:s.jsx(Qe,{})}),s.jsx(p,{path:"create-community",element:s.jsx(Ze,{})}),s.jsx(p,{path:"create-post",element:s.jsx(et,{})}),s.jsx(p,{path:"post/:postId",element:s.jsx(Xe,{})}),s.jsx(p,{path:"c/:communityName/submit",element:s.jsx(Ye,{})}),s.jsx(p,{index:!0,element:s.jsx(Ge,{})})]}),s.jsx(p,{path:"*",element:s.jsx(ze,{})}),s.jsxs(p,{path:"/dashboard",element:s.jsx(ge,{}),children:[s.jsx(p,{path:"notifications",element:s.jsx(We,{})}),s.jsx(p,{path:"blogs",element:s.jsx(Ve,{})}),s.jsx(p,{index:!0,element:s.jsx(We,{})})]}),s.jsxs(p,{path:"/settings",element:s.jsx(ge,{}),children:[s.jsx(p,{path:"edit-profile",element:s.jsx(Be,{})}),s.jsx(p,{path:"update-password",element:s.jsx(Me,{})}),s.jsx(p,{index:!0,element:s.jsx(Be,{})})]}),s.jsx(p,{path:"/editor",element:s.jsx(He,{})}),s.jsx(p,{path:"/editor/:blog_id",element:s.jsx(He,{})}),s.jsx(p,{path:"/story-editor",element:s.jsx(Je,{})}),s.jsx(p,{path:"/signin",element:s.jsx(ye,{type:"sign-in"})}),s.jsx(p,{path:"/signup",element:s.jsx(ye,{type:"sign-up"})})]})})})]})})})})}):s.jsx("div",{className:"min-h-screen flex items-center justify-center bg-white dark:bg-[#18181b]",children:s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-orange-500"})})};f.createRoot(document.getElementById("root")).render(s.jsx(y,{children:s.jsx(U,{children:s.jsx(st,{})})}));export{ne as A,Ie as E,be as I,je as L,Se as N,oe as O,ke as P,Ce as S,tt as U,Z as a,te as b,de as c,_e as d,ve as f,Ne as g,$ as s,F as u};
